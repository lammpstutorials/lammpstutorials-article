# polymerization of PS-CNT composite using REACTER

units real
boundary p p p

atom_style full
kspace_style pppm 1.0e-4
pair_style lj/class2/coul/long 8.5
angle_style class2
bond_style class2
dihedral_style class2
improper_style class2

special_bonds lj/coul 0 0 1
pair_modify tail yes mix sixthpower

read_data CNT-PS-mix.data  &
  extra/bond/per/atom 5 &
  extra/angle/per/atom 15 &
  extra/dihedral/per/atom 15 &
  extra/improper/per/atom 25 &
  extra/special/per/atom 25

molecule mol1 M-M_pre.lmpmol
molecule mol2 M-M_post.lmpmol
molecule mol3 M-P_pre.lmpmol
molecule mol4 M-P_post.lmpmol
molecule mol5 P-P_pre.lmpmol
molecule mol6 P-P_post.lmpmol

thermo 250

fix rxn1 all bond/react stabilization yes statted_grp 0.03 &
 react R1 all 1 0 3.0 mol1 mol2 M-M.rxnmap stabilize_steps 100 &
 react R2 all 1 0 3.0 mol3 mol4 M-P.rxnmap stabilize_steps 100 &
 react R3 all 1 0 5.0 mol5 mol6 P-P.rxnmap stabilize_steps 100

fix 1 statted_grp_REACT nvt temp 530 530 100

fix 4 bond_react_MASTER_group temp/rescale 1 530 530 1 1

thermo_style custom step temp press density f_rxn1[*]

dump mydmp all image 1000 dump.mixing.*.ppm &
  type type shiny 0.1 box no 0.01 &
  view 90 0 zoom 1.5 fsaa yes bond atom 0.5
dump_modify mydmp backcolor white &
  acolor cp gray acolor c=1 gray &
  acolor c= gray acolor c1 gray &
  acolor c2 gray acolor c3 gray &
  adiam cp 0.3 adiam c=1 0.3 &
  adiam c= 0.3 adiam c1 0.3 &
  adiam c2 0.3 adiam c3 0.3 &
  acolor hc white adiam hc 0.15

run 10000

write_restart restart_longrun
write_data restart_longrun.data nofix
